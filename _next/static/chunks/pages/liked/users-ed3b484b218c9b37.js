(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{3006:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/liked/users",function(){return t(7818)}])},7818:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var n=t(5893),l=t(3299),a=t(9008),i=t.n(a),c=t(1664),r=t.n(c),d=t(7294);function m(){let{data:e}=(0,l.useSession)(),[s,t]=(0,d.useState)([]),[a,c]=(0,d.useState)([]),m=async n=>{(null==e?void 0:e.user)&&(c(a.filter(e=>e.name!==n)),await fetch("/api/liked?name=".concat(null==e?void 0:e.user.name,"&user=").concat(n,"&status=users"),{method:"DELETE"})),t(s.filter(e=>e!==n))};return(0,d.useEffect)(()=>{(async function(){if(null==e?void 0:e.user){var s;let n=await fetch("/api/liked?name=".concat(null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.name)),l=await n.json();Array.isArray(l)&&void 0!==l[0].users&&t(l[0].users)}})().catch(()=>{throw Error()})},[null==e?void 0:e.user]),(0,d.useEffect)(()=>{(async function(){if(s.length>0){let e=s.map(e=>"name=".concat(e)).join("&"),t=await fetch("/api/auth/user?status=arr&".concat(e)),n=await t.json();c(n)}})().catch(()=>{throw Error()})},[s]),(0,n.jsxs)("div",{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"좋아요 | Allog"}),(0,n.jsx)("meta",{name:"description",content:"Allog 회원님들의 좋아요를 확인할 수 있는 페이지입니다."}),(0,n.jsx)("meta",{name:"keywords",content:"BLOG, 블로그, Allog"})]}),(0,n.jsxs)("div",{className:"flex justify-center my-16 md:text-xl",children:[(0,n.jsx)(r(),{className:"",href:"/liked/posts",children:(0,n.jsx)("div",{className:"mx-2 py-2 text-[#868e96]",children:"좋아한 글"})}),(0,n.jsx)(r(),{href:"/liked/users",children:(0,n.jsx)("div",{className:"mx-2 py-2 border-black border-b-2",children:"좋아한 작성자"})})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"px-4 sm:mx-16 lg:mx-32 2xl:mx-80 3xl:mx-96 md:text-xl mb-12",children:["전체 유저 (",a.length?a.length:0,")"]})}),e&&a.length>0&&a.map(e=>(0,n.jsxs)("div",{className:"sm:mx-16 lg:mx-32 2xl:mx-80 3xl:mx-96 text-xl my-12 flex items-center justify-between",children:[(0,n.jsx)(r(),{href:"/article/@".concat(e.name),children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{src:e.image,alt:"profile",height:128,width:128,className:"rounded-full aspect-square"}),(0,n.jsxs)("div",{className:"flex flex-col mx-4",children:[""!==e.nickname?(0,n.jsx)("div",{className:"text-sm sm:text-base md:text-2xl font-bold",children:e.nickname}):(0,n.jsx)("div",{className:"text-sm sm:text-base md:text-2xl font-bold",children:e.name}),(0,n.jsx)("div",{className:"text-xs sm:text-sm md:text-base mt-1",children:e.userinfo})]})]})}),(0,n.jsx)("span",{className:"",children:(0,n.jsx)("button",{type:"button",onClick:()=>m(e.name),children:"❤"})})]},e.email))]})}},9008:function(e,s,t){e.exports=t(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3006)}),_N_E=e.O()}]);