(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[761],{9634:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/liked/posts",function(){return t(1441)}])},1441:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var n=t(5893),l=t(3299),a=t(9008),i=t.n(a),c=t(1664),r=t.n(c),d=t(7294);function x(){let{data:e}=(0,l.useSession)(),[s,t]=(0,d.useState)([]),[a,c]=(0,d.useState)([]),x=async s=>{(null==e?void 0:e.user)&&(c(a.filter(e=>e._id!==s)),await fetch("/api/liked?name=".concat(null==e?void 0:e.user.name,"&id=").concat(s,"&status=posts"),{method:"DELETE"}))};return(0,d.useEffect)(()=>{(async function(){if(null==e?void 0:e.user){var s;let n=await fetch("/api/liked?name=".concat(null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.name)),l=await n.json();Array.isArray(l)&&t(l[0].posts)}})().catch(()=>{throw Error()})},[e]),(0,d.useEffect)(()=>{async function e(){if(s.length>0){let e=s.map(e=>"id=".concat(e)).join("&"),t=await fetch("/api/article?status=arr&".concat(e)),n=await t.json();c(n)}}s.length>0&&e().catch(()=>{throw Error()})},[s]),(0,n.jsxs)("div",{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"좋아요 | Allog"}),(0,n.jsx)("meta",{name:"description",content:"Allog 회원님들의 좋아요를 확인할 수 있는 페이지입니다."}),(0,n.jsx)("meta",{name:"keywords",content:"BLOG, 블로그, Allog"})]}),(0,n.jsxs)("div",{className:"flex justify-center my-16 md:text-xl",children:[(0,n.jsx)(r(),{className:"",href:"/liked/posts",children:(0,n.jsx)("div",{className:"mx-2 py-2 border-black border-b-2",children:"좋아한 글"})}),(0,n.jsx)(r(),{href:"/liked/users",children:(0,n.jsx)("div",{className:"mx-2 py-2 text-[#868e96]",children:"좋아한 작성자"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"px-4 sm:mx-16 lg:mx-32 2xl:mx-80 3xl:mx-96 md:text-xl",children:["전체 글 (",a.length?a.length:0,")"]}),e&&a&&a.length>0?(0,n.jsx)("div",{children:a.map(e=>(0,n.jsx)("div",{className:"flex sm:mx-16 lg:mx-32 2xl:mx-80 3xl:mx-96 py-6",children:(0,n.jsxs)(r(),{href:"/article/@".concat(e.writer,"/").concat(e._id,"/").concat(e.slug),children:[(0,n.jsx)("h1",{className:"hover:underline break-all line_clamp font-bold md:text-xl my-1 ",children:e.title}),(0,n.jsx)("p",{className:"mb-2 line_clamp break-all md:whitespace-pre-wrap text-sm sm:text-base min-h-[16px] text-[#666666]",children:e.plainText}),(0,n.jsxs)("div",{className:"flex text-sm",children:[(0,n.jsx)("span",{className:"font-bold",children:e.writer}),(0,n.jsx)("span",{className:"mx-1",children:"\xb7"}),(0,n.jsx)("span",{className:"text-gray-500",children:e.createdAt}),(0,n.jsx)("span",{className:"mx-1",children:"\xb7"}),(0,n.jsx)("button",{type:"button",onClick:()=>x(e._id),children:"❤"}),(0,n.jsx)("span",{children:e.liked.length})]})]})},e._id))}):(0,n.jsx)("div",{})]})]})}},9008:function(e,s,t){e.exports=t(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9634)}),_N_E=e.O()}]);